<!doctype html>
<html lang="ar" dir="rtl">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ù…ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ù†Ø¸Ø§Ù… Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†">
  <meta name="theme-color" content="#6366f1">
  <title>Ø´Ø±ÙƒØ© Ø§Ù„Ø¨Ø¯ÙˆÙŠ Ù„Ù„ØªØ¬Ø§Ø±Ø©</title>
  <style>
    /* ==================== Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª / Variables ==================== */
    :root {
      --primary-color: #6366f1;
      --primary-dark: #4f46e5;
      --primary-light: #818cf8;
      --secondary-color: #f59e0b;
      --danger-color: #ef4444;
      --warning-color: #f59e0b;
      --success-color: #10b981;
      --info-color: #3b82f6;
      --accent-color: #ec4899;
      --purple-color: #a855f7;
      
      --text-primary: #1f2937;
      --text-secondary: #6b7280;
      --text-light: #ffffff;
      
      --bg-primary: #ffffff;
      --bg-secondary: #f9fafb;
      --bg-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      
      --border-color: #e5e7eb;
      --shadow: 0 1px 3px rgba(0,0,0,0.1);
      --shadow-lg: 0 10px 25px rgba(0,0,0,0.15);
      
      --border-radius: 12px;
      --spacing-xs: 4px;
      --spacing-sm: 8px;
      --spacing-md: 16px;
      --spacing-lg: 24px;
      --spacing-xl: 32px;
    }

    /* ==================== Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† / Reset ==================== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      direction: rtl;
      text-align: right;
      background: var(--bg-secondary);
      color: var(--text-primary);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* ==================== Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ / Login Screen ==================== */
    .login-screen {
      min-height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--bg-gradient);
      padding: var(--spacing-lg);
    }

    .login-container {
      background: var(--bg-primary);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow-lg);
      padding: var(--spacing-xl);
      max-width: 400px;
      width: 100%;
      animation: slideUp 0.3s ease;
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .login-header {
      text-align: center;
      margin-bottom: var(--spacing-xl);
    }

    .login-header h1 {
      font-size: 1.75rem;
      background: var(--bg-gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: var(--spacing-sm);
    }

    .login-header p {
      color: var(--text-secondary);
      font-size: 0.875rem;
    }

    .user-type-selector {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--spacing-md);
      margin-bottom: var(--spacing-lg);
    }

    .user-type-btn {
      padding: var(--spacing-lg);
      border: 2px solid var(--border-color);
      background: var(--bg-primary);
      border-radius: var(--border-radius);
      cursor: pointer;
      transition: all 0.3s;
      text-align: center;
    }

    .user-type-btn:hover {
      border-color: var(--primary-color);
      background: var(--bg-secondary);
      transform: translateY(-2px);
    }

    .user-type-btn.active {
      border-color: var(--primary-color);
      background: var(--bg-gradient);
      color: var(--text-light);
      transform: scale(1.05);
    }

    .user-type-btn .icon {
      font-size: 2.5rem;
      margin-bottom: var(--spacing-sm);
    }

    .user-type-btn .label {
      font-weight: 600;
    }

    /* ==================== Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ / Main App ==================== */
    .app {
      min-height: 100%;
      display: flex;
      flex-direction: column;
      display: none;
    }

    .app.active {
      display: flex;
    }

    .app-header {
      background: var(--bg-gradient);
      color: var(--text-light);
      padding: var(--spacing-md);
      display: flex;
      align-items: center;
      gap: var(--spacing-md);
      box-shadow: var(--shadow-lg);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .app-header h1 {
      font-size: 1.25rem;
      font-weight: 600;
      flex: 1;
    }

    .user-info {
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
      cursor: pointer;
      padding: var(--spacing-sm);
      border-radius: var(--border-radius);
      transition: background 0.2s;
    }

    .user-info:hover {
      background: rgba(255, 255, 255, 0.2);
    }

    .user-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--text-light);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--primary-color);
      box-shadow: var(--shadow);
    }

    .user-name {
      font-size: 0.875rem;
      font-weight: 500;
    }

    .menu-toggle {
      background: none;
      border: none;
      color: var(--text-light);
      font-size: 1.5rem;
      cursor: pointer;
      padding: var(--spacing-sm);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .app-container {
      display: flex;
      flex: 1;
      position: relative;
    }

    /* ==================== Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© / Sidebar ==================== */
    .sidebar {
      background-color: var(--bg-primary);
      width: 250px;
      box-shadow: var(--shadow);
      position: fixed;
      right: 0;
      top: 60px;
      bottom: 0;
      transform: translateX(100%);
      transition: transform 0.3s ease;
      z-index: 90;
      overflow-y: auto;
    }

    .sidebar.open {
      transform: translateX(0);
    }

    .menu-list {
      list-style: none;
      padding: var(--spacing-md);
    }

    .menu-item {
      width: 100%;
      padding: var(--spacing-md);
      border: none;
      background: none;
      text-align: right;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: var(--spacing-md);
      border-radius: var(--border-radius);
      transition: all 0.2s;
      font-size: 1rem;
      color: var(--text-primary);
      margin-bottom: var(--spacing-xs);
    }

    .menu-item:hover {
      background: var(--bg-secondary);
      transform: translateX(-5px);
    }

    .menu-item.active {
      background: var(--bg-gradient);
      color: var(--text-light);
    }

    .menu-icon {
      font-size: 1.5rem;
    }

    .menu-label {
      flex: 1;
    }

    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 80;
      display: none;
    }

    .overlay.show {
      display: block;
    }

    /* ==================== Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ / Main Content ==================== */
    .main-content {
      flex: 1;
      padding: var(--spacing-lg);
      max-width: 1200px;
      margin: 0 auto;
      width: 100%;
    }

    .page {
      animation: fadeIn 0.3s ease;
      display: none;
    }

    .page.active {
      display: block;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .page-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--spacing-lg);
      flex-wrap: wrap;
      gap: var(--spacing-md);
    }

    .page-header h2 {
      font-size: 1.75rem;
      color: var(--text-primary);
    }

    /* ==================== Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª / Cards ==================== */
    .card {
      background-color: var(--bg-primary);
      border-radius: var(--border-radius);
      padding: var(--spacing-lg);
      box-shadow: var(--shadow);
      margin-bottom: var(--spacing-lg);
      border: 1px solid var(--border-color);
      transition: all 0.3s;
    }

    .card:hover {
      box-shadow: var(--shadow-lg);
      transform: translateY(-2px);
    }

    .card h3 {
      margin-bottom: var(--spacing-md);
      color: var(--text-primary);
      font-size: 1.25rem;
    }

    /* ==================== Ø§Ù„Ø£Ø²Ø±Ø§Ø± / Buttons ==================== */
    .btn {
      padding: var(--spacing-md) var(--spacing-lg);
      border: none;
      border-radius: var(--border-radius);
      cursor: pointer;
      font-size: 1rem;
      font-weight: 500;
      transition: all 0.3s;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: var(--spacing-sm);
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
    }

    .btn:active {
      transform: translateY(0);
    }

    .btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    .btn-primary {
      background: var(--bg-gradient);
      color: var(--text-light);
    }

    .btn-secondary {
      background-color: var(--bg-secondary);
      color: var(--text-primary);
      border: 1px solid var(--border-color);
    }

    .btn-secondary:hover {
      background-color: var(--border-color);
    }

    .btn-danger {
      background-color: var(--danger-color);
      color: var(--text-light);
    }

    .btn-warning {
      background-color: var(--warning-color);
      color: var(--text-light);
    }

    .btn-success {
      background-color: var(--success-color);
      color: var(--text-light);
    }

    .btn-small {
      padding: var(--spacing-sm) var(--spacing-md);
      font-size: 0.875rem;
    }

    .btn-block {
      width: 100%;
    }

    /* ==================== Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ / Forms ==================== */
    .form-group {
      margin-bottom: var(--spacing-md);
    }

    .form-group label {
      display: block;
      margin-bottom: var(--spacing-sm);
      font-weight: 500;
      color: var(--text-primary);
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: var(--spacing-md);
      border: 1px solid var(--border-color);
      border-radius: var(--border-radius);
      font-size: 1rem;
      font-family: inherit;
      transition: all 0.2s;
    }

    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
    }

    .form-row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: var(--spacing-md);
    }

    .form-actions {
      display: flex;
      gap: var(--spacing-md);
      margin-top: var(--spacing-lg);
      flex-wrap: wrap;
    }

    /* ==================== Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª / Stats ==================== */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: var(--spacing-lg);
      margin-bottom: var(--spacing-lg);
    }

    .stat-card {
      background: var(--bg-primary);
      padding: var(--spacing-lg);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      display: flex;
      align-items: center;
      gap: var(--spacing-md);
      border: 1px solid var(--border-color);
      transition: all 0.3s;
    }

    .stat-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-lg);
    }

    .stat-card.highlight {
      background: var(--bg-gradient);
      color: var(--text-light);
      border: none;
    }

    .stat-icon {
      font-size: 3rem;
    }

    .stat-content {
      flex: 1;
    }

    .stat-value {
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: var(--spacing-sm);
    }

    .stat-label {
      font-size: 0.875rem;
      opacity: 0.8;
    }

    /* ==================== Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø© / Quick Actions ==================== */
    .quick-actions {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: var(--spacing-lg);
      margin-bottom: var(--spacing-lg);
    }

    .action-card {
      background: var(--bg-primary);
      border-radius: var(--border-radius);
      padding: var(--spacing-lg);
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: var(--shadow);
      border: 2px solid transparent;
    }

    .action-card:hover {
      transform: translateY(-8px);
      box-shadow: var(--shadow-lg);
      border-color: var(--primary-color);
    }

    .action-card .icon {
      font-size: 3rem;
      margin-bottom: var(--spacing-md);
    }

    .action-card .title {
      font-weight: 600;
      font-size: 1rem;
      color: var(--text-primary);
    }

    .action-card .description {
      font-size: 0.75rem;
      color: var(--text-secondary);
      margin-top: var(--spacing-xs);
    }

    /* ==================== Ø§Ù„Ø´Ø§Ø±Ø§Øª / Badges ==================== */
    .status-badge {
      padding: var(--spacing-xs) var(--spacing-md);
      border-radius: 20px;
      font-size: 0.875rem;
      font-weight: 500;
      display: inline-block;
    }

    .status-available {
      background-color: #d1fae5;
      color: #065f46;
    }

    .status-allocated {
      background-color: #fef3c7;
      color: #92400e;
    }

    .status-maintenance {
      background-color: #fee2e2;
      color: #991b1b;
    }

    .status-pending {
      background-color: #fef3c7;
      color: #92400e;
    }

    .status-confirmed {
      background-color: #dbeafe;
      color: #1e40af;
    }

    .status-completed {
      background-color: #d1fae5;
      color: #065f46;
    }

    .status-active {
      background-color: #d1fae5;
      color: #065f46;
    }

    .badge-admin {
      background-color: #f3e8ff;
      color: #6b21a8;
    }

    .badge-customer {
      background-color: #dbeafe;
      color: #1e40af;
    }

    /* ==================== Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† / Users List ==================== */
    .users-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: var(--spacing-lg);
    }

    .user-card {
      background: var(--bg-primary);
      border-radius: var(--border-radius);
      padding: var(--spacing-lg);
      box-shadow: var(--shadow);
      display: flex;
      flex-direction: column;
      gap: var(--spacing-md);
      border: 1px solid var(--border-color);
      transition: all 0.3s;
    }

    .user-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-lg);
    }

    .user-card-header {
      display: flex;
      align-items: center;
      gap: var(--spacing-md);
    }

    .user-card-avatar {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: var(--bg-gradient);
      color: var(--text-light);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      font-weight: 600;
      box-shadow: var(--shadow);
    }

    .user-card-info {
      flex: 1;
    }

    .user-card-name {
      font-weight: 600;
      font-size: 1.125rem;
      margin-bottom: var(--spacing-xs);
    }

    .user-card-details {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-xs);
      color: var(--text-secondary);
      font-size: 0.875rem;
    }

    .card-actions {
      display: flex;
      gap: var(--spacing-sm);
      flex-wrap: wrap;
      margin-top: var(--spacing-md);
    }

    /* ==================== Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ / Profile ==================== */
    .profile-header {
      background: var(--bg-gradient);
      color: var(--text-light);
      padding: var(--spacing-xl);
      border-radius: var(--border-radius);
      margin-bottom: var(--spacing-lg);
      display: flex;
      align-items: center;
      gap: var(--spacing-lg);
      box-shadow: var(--shadow-lg);
    }

    .profile-avatar {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      background: var(--text-light);
      color: var(--primary-color);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.5rem;
      font-weight: 600;
      box-shadow: var(--shadow-lg);
    }

    .profile-info h2 {
      font-size: 1.75rem;
      margin-bottom: var(--spacing-sm);
    }

    .profile-meta {
      display: flex;
      gap: var(--spacing-md);
      flex-wrap: wrap;
      font-size: 0.875rem;
      opacity: 0.9;
    }

    /* ==================== Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„ÙØ§Ø±ØºØ© / Empty State ==================== */
    .empty-state {
      text-align: center;
      padding: var(--spacing-xl);
      color: var(--text-secondary);
    }

    .empty-state .icon {
      font-size: 4rem;
      margin-bottom: var(--spacing-md);
      opacity: 0.5;
    }

    /* ==================== Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ / Modal ==================== */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      padding: var(--spacing-lg);
      overflow-y: auto;
    }

    .modal.show {
      display: flex;
    }

    .modal-content {
      background: var(--bg-primary);
      border-radius: var(--border-radius);
      padding: var(--spacing-xl);
      max-width: 500px;
      width: 100%;
      max-height: 90%;
      overflow-y: auto;
      animation: slideUp 0.3s ease;
    }

    .modal-content.large {
      max-width: 900px;
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--spacing-lg);
    }

    .modal-header h3 {
      font-size: 1.5rem;
    }

    .modal-close {
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      color: var(--text-secondary);
      transition: all 0.2s;
    }

    .modal-close:hover {
      color: var(--danger-color);
      transform: scale(1.2);
    }

    /* ==================== Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… / Guide ==================== */
    .guide-section {
      margin-bottom: var(--spacing-xl);
      padding: var(--spacing-lg);
      background: var(--bg-secondary);
      border-radius: var(--border-radius);
      border-right: 4px solid var(--primary-color);
    }

    .guide-section h3 {
      display: flex;
      align-items: center;
      gap: var(--spacing-md);
      font-size: 1.5rem;
      margin-bottom: var(--spacing-md);
      color: var(--primary-color);
    }

    .guide-section .icon {
      font-size: 2.5rem;
    }

    .guide-steps {
      display: grid;
      gap: var(--spacing-md);
    }

    .guide-step {
      display: flex;
      gap: var(--spacing-md);
      padding: var(--spacing-md);
      background: var(--bg-primary);
      border-radius: var(--border-radius);
      align-items: start;
    }

    .guide-step-number {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--bg-gradient);
      color: var(--text-light);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 1.25rem;
      flex-shrink: 0;
    }

    .guide-step-content {
      flex: 1;
    }

    .guide-step-title {
      font-weight: 600;
      font-size: 1.125rem;
      margin-bottom: var(--spacing-xs);
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
    }

    .guide-step-description {
      color: var(--text-secondary);
      line-height: 1.6;
    }

    /* ==================== Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„ØªÙˆØ³Øª / Toast Notifications ==================== */
    .toast-container {
      position: fixed;
      top: 80px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 2000;
      display: flex;
      flex-direction: column;
      gap: var(--spacing-sm);
      pointer-events: none;
    }

    .toast {
      background: var(--bg-primary);
      padding: var(--spacing-md) var(--spacing-lg);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow-lg);
      display: flex;
      align-items: center;
      gap: var(--spacing-md);
      animation: slideDown 0.3s ease;
      pointer-events: all;
      min-width: 300px;
    }

    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .toast.success {
      border-right: 4px solid var(--success-color);
    }

    .toast.error {
      border-right: 4px solid var(--danger-color);
    }

    .toast.info {
      border-right: 4px solid var(--info-color);
    }

    /* ==================== Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø´Ø§Ø´Ø§Øª / Responsive ==================== */
    @media (min-width: 768px) {
      .sidebar {
        position: static;
        transform: translateX(0);
      }
      
      .menu-toggle {
        display: none;
      }
      
      .overlay {
        display: none !important;
      }
      
      .main-content {
        margin-right: 250px;
      }
    }

    @media (max-width: 767px) {
      .app-header h1 {
        font-size: 1rem;
      }
      
      .page-header h2 {
        font-size: 1.5rem;
      }
      
      .form-row {
        grid-template-columns: 1fr;
      }
      
      .stats-grid {
        grid-template-columns: 1fr;
      }

      .quick-actions {
        grid-template-columns: repeat(2, 1fr);
      }

      .users-grid {
        grid-template-columns: 1fr;
      }

      .profile-header {
        flex-direction: column;
        text-align: center;
      }

      .guide-section .icon {
        font-size: 2rem;
      }

      .guide-section h3 {
        font-size: 1.25rem;
      }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="/_sdk/element_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body><!-- Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
  <div id="loginScreen" class="login-screen">
   <div class="login-container">
    <div class="login-header">
     <h1>ğŸŒ¾ Ø´Ø±ÙƒØ© Ø§Ù„Ø¨Ø¯ÙˆÙŠ Ù„Ù„ØªØ¬Ø§Ø±Ø©</h1>
     <p>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ! Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨ Ù„Ù„Ø¯Ø®ÙˆÙ„</p>
    </div>
    <div class="user-type-selector">
     <div class="user-type-btn" data-type="admin">
      <div class="icon">
       ğŸ‘¨â€ğŸ’¼
      </div>
      <div class="label">
       Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
      </div>
     </div>
     <div class="user-type-btn active" data-type="customer">
      <div class="icon">
       ğŸ‘¤
      </div>
      <div class="label">
       Ø²Ø¨ÙˆÙ†
      </div>
     </div>
    </div>
    <form id="loginForm">
     <div class="form-group"><label>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label> <input type="text" id="loginUsername" required placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
     </div>
     <div class="form-group"><label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label> <input type="password" id="loginPassword" required placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
     </div><button type="submit" class="btn btn-primary btn-block">Ø¯Ø®ÙˆÙ„</button>
     <div style="text-align: center; margin-top: 16px;"><button type="button" class="btn btn-secondary btn-block" onclick="showRegisterModal()"> Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯ </button>
     </div>
    </form>
   </div>
  </div><!-- Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
  <div id="app" class="app">
   <header class="app-header"><button class="menu-toggle" id="menuToggle">â˜°</button>
    <h1>ğŸŒ¾ Ø´Ø±ÙƒØ© Ø§Ù„Ø¨Ø¯ÙˆÙŠ Ù„Ù„ØªØ¬Ø§Ø±Ø©</h1>
    <div class="user-info" onclick="navigateTo('profile')">
     <div class="user-avatar" id="headerAvatar">
      A
     </div>
     <div class="user-name" id="headerName">
      Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
     </div>
    </div>
   </header>
   <div class="app-container">
    <aside class="sidebar" id="sidebar">
     <ul class="menu-list" id="menuList"></ul>
    </aside>
    <div class="overlay" id="overlay"></div>
    <main class="main-content"><!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
     <div id="dashboard" class="page active">
      <div class="page-header">
       <h2>ğŸ“Š Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>
      </div><!-- Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø© Ù„Ù„Ø²Ø¨Ø§Ø¦Ù† -->
      <div id="customerQuickActions" style="display: none;">
       <h3 style="margin-bottom: 16px;">âš¡ Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø³Ø±ÙŠØ¹Ø©</h3>
       <div class="quick-actions">
        <div class="action-card" onclick="showNewOrderModal()">
         <div class="icon">
          ğŸ›’
         </div>
         <div class="title">
          Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯
         </div>
         <div class="description">
          Ø§Ø·Ù„Ø¨ Ù…Ù†ØªØ¬Ø§Øª
         </div>
        </div>
        <div class="action-card" onclick="navigateTo('myOrders')">
         <div class="icon">
          ğŸ“‹
         </div>
         <div class="title">
          Ø·Ù„Ø¨Ø§ØªÙŠ
         </div>
         <div class="description">
          ØªØ§Ø¨Ø¹ Ø·Ù„Ø¨Ø§ØªÙƒ
         </div>
        </div>
        <div class="action-card" onclick="navigateTo('guide')">
         <div class="icon">
          ğŸ“–
         </div>
         <div class="title">
          Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
         </div>
         <div class="description">
          ØªØ¹Ù„Ù… ÙƒÙŠÙ ØªØ³ØªØ®Ø¯Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
         </div>
        </div>
        <div class="action-card" onclick="showContactModal()">
         <div class="icon">
          ğŸ“
         </div>
         <div class="title">
          ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§
         </div>
         <div class="description">
          Ø§ØªØµÙ„ Ø¨Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
         </div>
        </div>
       </div>
      </div><!-- Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
      <div class="stats-grid" id="dashboardStats"></div><!-- Ù†ØµØ§Ø¦Ø­ -->
      <div class="card" id="dashboardTips"></div>
     </div><!-- Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… -->
     <div id="guide" class="page"></div><!-- Ø§Ù„Ø·Ù„Ø¨Ø§Øª -->
     <div id="orders" class="page"></div><!-- Ø·Ù„Ø¨Ø§ØªÙŠ (Ù„Ù„Ø²Ø¨Ø§Ø¦Ù†) -->
     <div id="myOrders" class="page"></div><!-- Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† -->
     <div id="users" class="page"></div><!-- Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ -->
     <div id="profile" class="page"></div>
    </main>
   </div>
  </div><!-- Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ -->
  <div id="registerModal" class="modal">
   <div class="modal-content">
    <div class="modal-header">
     <h3>Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</h3><button class="modal-close" onclick="closeModal('registerModal')">âœ•</button>
    </div>
    <form id="registerForm">
     <div class="form-group"><label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ *</label> <input type="text" id="regFullName" required placeholder="Ù…Ø«Ø§Ù„: Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯">
     </div>
     <div class="form-group"><label>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… *</label> <input type="text" id="regUsername" required placeholder="Ø§Ø®ØªØ± Ø§Ø³Ù… Ù…Ø³ØªØ®Ø¯Ù…">
     </div>
     <div class="form-group"><label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± *</label> <input type="password" id="regPassword" required placeholder="Ø§Ø®ØªØ± ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ©">
     </div>
     <h4 style="margin: 24px 0 16px; color: var(--primary-color); display: flex; align-items: center; gap: 8px;"><span>ğŸ“±</span> Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„</h4>
     <div class="form-group"><label>ğŸ“ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ *</label> <input type="tel" id="regPhone" required placeholder="Ù…Ø«Ø§Ù„: 01099753053">
     </div>
     <div class="form-group"><label>ğŸ“ Ø±Ù‚Ù… Ù‡Ø§ØªÙ Ø¥Ø¶Ø§ÙÙŠ</label> <input type="tel" id="regPhone2" placeholder="Ø±Ù‚Ù… Ø¢Ø®Ø± Ù„Ù„ØªÙˆØ§ØµÙ„ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
     </div>
     <div class="form-group"><label>ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label> <input type="email" id="regEmail" placeholder="Ù…Ø«Ø§Ù„: name@example.com">
     </div>
     <h4 style="margin: 24px 0 16px; color: var(--primary-color); display: flex; align-items: center; gap: 8px;"><span>ğŸ’¬</span> Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ</h4>
     <div class="form-group"><label>ğŸ“˜ ÙÙŠØ³Ø¨ÙˆÙƒ</label> <input type="text" id="regFacebook" placeholder="Ø±Ø§Ø¨Ø· Ø­Ø³Ø§Ø¨Ùƒ Ø¹Ù„Ù‰ ÙÙŠØ³Ø¨ÙˆÙƒ">
     </div>
     <div class="form-group"><label>ğŸ’¬ ÙˆØ§ØªØ³Ø§Ø¨</label> <input type="tel" id="regWhatsapp" placeholder="Ø±Ù‚Ù… ÙˆØ§ØªØ³Ø§Ø¨ (Ù…Ø«Ø§Ù„: 01099753053)">
     </div>
     <div class="form-group"><label>ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label> <textarea id="regAddress" rows="2" placeholder="Ø§Ù„Ù‚Ø±ÙŠØ©ØŒ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©ØŒ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø©"></textarea>
     </div>
     <div class="form-actions"><button type="submit" class="btn btn-primary">âœ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨</button> <button type="button" class="btn btn-secondary" onclick="closeModal('registerModal')">Ø¥Ù„ØºØ§Ø¡</button>
     </div>
    </form>
   </div>
  </div><!-- Ù…ÙˆØ¯Ø§Ù„ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ -->
  <div id="newOrderModal" class="modal">
   <div class="modal-content" style="max-width: 700px;">
    <div class="modal-header">
     <h3>ğŸ›’ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯</h3><button class="modal-close" onclick="closeModal('newOrderModal')">âœ•</button>
    </div>
    <form id="newOrderForm"><!-- Ø§Ù„Ø£ØµÙ†Ø§Ù Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© -->
     <div class="card" style="margin-bottom: 16px; padding: 16px;">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
       <h4 style="margin: 0;">ğŸ“¦ Ø§Ù„Ø£ØµÙ†Ø§Ù Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</h4><button type="button" class="btn btn-small btn-primary" onclick="addOrderItem()">+ Ø¥Ø¶Ø§ÙØ© ØµÙ†Ù</button>
      </div>
      <div id="orderItemsList"><!-- Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£ØµÙ†Ø§Ù Ù‡Ù†Ø§ -->
      </div>
     </div><!-- ÙˆÙ‚Øª Ø§Ù„ØªÙˆØµÙŠÙ„ -->
     <div class="form-group"><label>â° ÙˆÙ‚Øª Ø§Ù„ØªÙˆØµÙŠÙ„ *</label> <select id="orderDeliveryTime" required style="width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 12px; font-size: 1rem;"> <option value="">Ø§Ø®ØªØ± ÙˆÙ‚Øª Ø§Ù„ØªÙˆØµÙŠÙ„</option> <option value="today_evening">Ø§Ù„ÙŠÙˆÙ… Ù…Ø³Ø§Ø¡Ù‹</option> <option value="tomorrow_evening">ØºØ¯Ø§Ù‹ Ù…Ø³Ø§Ø¡Ù‹</option> <option value="custom">ØªØ­Ø¯ÙŠØ¯ ÙˆÙ‚Øª Ø¢Ø®Ø±</option> </select>
     </div><!-- ØªØ§Ø±ÙŠØ® Ù…Ø®ØµØµ (ÙŠØ¸Ù‡Ø± Ø¹Ù†Ø¯ Ø§Ø®ØªÙŠØ§Ø± "ØªØ­Ø¯ÙŠØ¯ ÙˆÙ‚Øª Ø¢Ø®Ø±") -->
     <div class="form-group" id="customDateGroup" style="display: none;"><label>ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø®ØµØµ</label> <input type="date" id="orderCustomDate" style="width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 12px; font-size: 1rem;">
     </div><!-- Ù…ÙƒØ§Ù† Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… -->
     <div class="form-group"><label>ğŸ“ Ù…ÙƒØ§Ù† Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… *</label> <select id="orderPickupLocation" required style="width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 12px; font-size: 1rem;"> <option value="">Ø§Ø®ØªØ± Ù…ÙƒØ§Ù† Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</option> <option value="company_address">Ù…Ù† Ù…Ù‚Ø± Ø§Ù„Ø´Ø±ÙƒØ© (Ø§Ù„Ø¨Ø¬Ù„Ø§ØªØŒ Ù‚Ø±ÙŠØ© Ø§Ù„Ø¨Ø´Ù…ÙˆØ±ØŒ Ø´Ø±ÙƒØ© Ø§Ø³Ù„Ø§Ù… Ø­Ù…Ø¯ÙŠ Ø§Ù„Ø¨Ø¯ÙˆÙŠ)</option> <option value="delivery_address">Ø§Ù„ØªÙˆØµÙŠÙ„ Ù„Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø®ØµØµ</option> </select>
     </div><!-- Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙˆØµÙŠÙ„ (ÙŠØ¸Ù‡Ø± Ø¹Ù†Ø¯ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØªÙˆØµÙŠÙ„) -->
     <div class="form-group" id="deliveryAddressGroup" style="display: none;"><label>ğŸ  Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙˆØµÙŠÙ„ Ø§Ù„Ù…Ø®ØµØµ *</label> <textarea id="orderDeliveryAddress" rows="2" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ù„ØªÙˆØµÙŠÙ„" style="width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 12px; font-size: 1rem;"></textarea>
     </div><!-- Ù…Ù„Ø§Ø­Ø¸Ø§Øª -->
     <div class="form-group"><label>ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©</label> <textarea id="orderNotes" rows="3" placeholder="Ø£ÙŠ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø£Ùˆ ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø®Ø§ØµØ©..." style="width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 12px; font-size: 1rem;"></textarea>
     </div><!-- Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨ -->
     <div class="card" style="background: var(--bg-secondary); margin-bottom: 16px; padding: 16px;">
      <h4 style="margin-bottom: 12px;">ğŸ“‹ Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨</h4>
      <div id="orderSummary" style="color: var(--text-secondary);">
       Ù„Ù… ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø£ØµÙ†Ø§Ù Ø¨Ø¹Ø¯
      </div>
     </div>
     <div class="form-actions"><button type="submit" class="btn btn-primary">âœ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button> <button type="button" class="btn btn-secondary" onclick="closeModal('newOrderModal')">Ø¥Ù„ØºØ§Ø¡</button>
     </div>
    </form>
   </div>
  </div><!-- Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„ -->
  <div id="contactModal" class="modal">
   <div class="modal-content">
    <div class="modal-header">
     <h3>ğŸ“ ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h3><button class="modal-close" onclick="closeModal('contactModal')">âœ•</button>
    </div>
    <div style="padding: 16px;">
     <div style="margin-bottom: 16px;"><strong>ğŸ“± Ø§Ù„Ù‡Ø§ØªÙ:</strong><br><a href="tel:01099753053" style="color: var(--primary-color); font-size: 1.1rem;">01099753053</a>
     </div>
     <div style="margin-bottom: 16px;"><strong>ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</strong><br><a href="mailto:ee5139901@gmail.com" style="color: var(--primary-color);">ee5139901@gmail.com</a>
     </div>
     <div style="margin-bottom: 16px;"><strong>ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</strong><br>
       Ø§Ù„Ø¨Ø¬Ù„Ø§ØªØŒ Ù‚Ø±ÙŠØ© Ø§Ù„Ø¨Ø´Ù…ÙˆØ±ØŒ Ø´Ø±ÙƒØ© Ø§Ø³Ù„Ø§Ù… Ø­Ù…Ø¯ÙŠ Ø§Ù„Ø¨Ø¯ÙˆÙŠ
     </div>
     <div style="margin-bottom: 16px;"><strong>â° Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„:</strong><br>
       ÙƒÙ„ ÙŠÙˆÙ…: 1 Ø¸Ù‡Ø±Ø§Ù‹ - 10 Ù…Ø³Ø§Ø¡Ù‹
     </div>
    </div><button class="btn btn-primary btn-block" onclick="closeModal('contactModal')">Ø¥ØºÙ„Ø§Ù‚</button>
   </div>
  </div><!-- Ù…ÙˆØ¯Ø§Ù„ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ -->
  <div id="editProfileModal" class="modal">
   <div class="modal-content">
    <div class="modal-header">
     <h3>âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</h3><button class="modal-close" onclick="closeModal('editProfileModal')">âœ•</button>
    </div>
    <form id="editProfileForm">
     <div class="form-group"><label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ *</label> <input type="text" id="editFullName" required>
     </div>
     <h4 style="margin: 24px 0 16px; color: var(--primary-color); display: flex; align-items: center; gap: 8px;"><span>ğŸ“±</span> Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„</h4>
     <div class="form-group"><label>ğŸ“ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ</label> <input type="tel" id="editPhone">
     </div>
     <div class="form-group"><label>ğŸ“ Ø±Ù‚Ù… Ù‡Ø§ØªÙ Ø¥Ø¶Ø§ÙÙŠ</label> <input type="tel" id="editPhone2">
     </div>
     <div class="form-group"><label>ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label> <input type="email" id="editEmail">
     </div>
     <h4 style="margin: 24px 0 16px; color: var(--primary-color); display: flex; align-items: center; gap: 8px;"><span>ğŸ’¬</span> Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ</h4>
     <div class="form-group"><label>ğŸ“˜ ÙÙŠØ³Ø¨ÙˆÙƒ</label> <input type="text" id="editFacebook">
     </div>
     <div class="form-group"><label>ğŸ’¬ ÙˆØ§ØªØ³Ø§Ø¨</label> <input type="tel" id="editWhatsapp">
     </div>
     <div class="form-group"><label>ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label> <textarea id="editAddress" rows="2"></textarea>
     </div>
     <div class="form-group"><label>ğŸ”’ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© (Ø§ØªØ±ÙƒÙ‡Ø§ ÙØ§Ø±ØºØ© Ø¥Ø°Ø§ Ù„Ù… ØªØ±Ø¯ Ø§Ù„ØªØºÙŠÙŠØ±)</label> <input type="password" id="editPassword" placeholder="Ø§Ø®ØªÙŠØ§Ø±ÙŠ">
     </div>
     <div class="form-actions"><button type="submit" class="btn btn-primary">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button> <button type="button" class="btn btn-secondary" onclick="closeModal('editProfileModal')">Ø¥Ù„ØºØ§Ø¡</button>
     </div>
    </form>
   </div>
  </div><!-- Ù…ÙˆØ¯Ø§Ù„ ØªØ£ÙƒÙŠØ¯ ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ -->
  <div id="updateOrderStatusModal" class="modal">
   <div class="modal-content" style="max-width: 400px;">
    <div class="modal-header">
     <h3>ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨</h3><button class="modal-close" onclick="closeModal('updateOrderStatusModal')">âœ•</button>
    </div>
    <div id="updateOrderStatusContent"></div>
   </div>
  </div><!-- Ø­Ø§ÙˆÙŠØ© Ø§Ù„ØªÙˆØ³Øª -->
  <div class="toast-container" id="toastContainer"></div>
  <script>
    // ==================== Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ / Local Storage ====================
    const DB = {
      get: (key) => {
        try {
          return JSON.parse(localStorage.getItem(key) || '[]');
        } catch {
          return [];
        }
      },
      set: (key, data) => {
        localStorage.setItem(key, JSON.stringify(data));
      },
      getOne: (key) => {
        try {
          return JSON.parse(localStorage.getItem(key));
        } catch {
          return null;
        }
      },
      setOne: (key, data) => {
        localStorage.setItem(key, JSON.stringify(data));
      },
      generateId: () => Date.now().toString(36) + Math.random().toString(36).substr(2)
    };

    // ==================== Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ / Current User ====================
    let currentUser = null;

    // ==================== ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠÙŠÙ† / Initialize Default Users ====================
    function initializeDefaultUsers() {
      const users = DB.get('users');
      if (users.length === 0) {
        const defaultUsers = [
          {
            id: 'admin1',
            username: 'manager',
            password: 'manager2025',
            fullName: 'Ø§Ù„Ù…Ø¯ÙŠØ±',
            email: 'ee5139901@gmail.com',
            phone: '01099753053',
            phone2: '',
            facebook: '',
            whatsapp: '01099753053',
            address: 'Ø§Ù„Ø¨Ø¬Ù„Ø§ØªØŒ Ù‚Ø±ÙŠØ© Ø§Ù„Ø¨Ø´Ù…ÙˆØ±ØŒ Ø´Ø±ÙƒØ© Ø§Ø³Ù„Ø§Ù… Ø­Ù…Ø¯ÙŠ Ø§Ù„Ø¨Ø¯ÙˆÙŠ',
            role: 'admin',
            createdAt: new Date().toISOString()
          },
          {
            id: 'admin2',
            username: 'accountant',
            password: 'accountant2025',
            fullName: 'Ø§Ù„Ù…Ø­Ø§Ø³Ø¨',
            email: 'accountant@badawi.com',
            phone: '01099753053',
            phone2: '',
            facebook: '',
            whatsapp: '01099753053',
            address: 'Ø§Ù„Ø¨Ø¬Ù„Ø§ØªØŒ Ù‚Ø±ÙŠØ© Ø§Ù„Ø¨Ø´Ù…ÙˆØ±ØŒ Ø´Ø±ÙƒØ© Ø§Ø³Ù„Ø§Ù… Ø­Ù…Ø¯ÙŠ Ø§Ù„Ø¨Ø¯ÙˆÙŠ',
            role: 'admin',
            createdAt: new Date().toISOString()
          }
        ];
        DB.set('users', defaultUsers);
      }
    }

    // ==================== ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ / Login ====================
    document.getElementById('loginForm').addEventListener('submit', (e) => {
      e.preventDefault();
      
      const username = document.getElementById('loginUsername').value;
      const password = document.getElementById('loginPassword').value;
      const selectedType = document.querySelector('.user-type-btn.active').dataset.type;
      
      const users = DB.get('users');
      const user = users.find(u => u.username === username && u.password === password);
      
      if (!user) {
        showToast('Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©', 'error');
        return;
      }
      
      if (user.role !== selectedType) {
        showToast('Ù†ÙˆØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨ ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚', 'error');
        return;
      }
      
      currentUser = user;
      DB.setOne('currentUser', user);
      
      document.getElementById('loginScreen').style.display = 'none';
      document.getElementById('app').classList.add('active');
      
      initializeApp();
      showToast('Ù…Ø±Ø­Ø¨Ø§Ù‹ ' + user.fullName, 'success');
    });

    // Ø§Ø®ØªÙŠØ§Ø± Ù†ÙˆØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    document.querySelectorAll('.user-type-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.user-type-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
      });
    });

    // ==================== Ø§Ù„ØªØ³Ø¬ÙŠÙ„ / Register ====================
    function showRegisterModal() {
      document.getElementById('registerModal').classList.add('show');
    }

    document.getElementById('registerForm').addEventListener('submit', (e) => {
      e.preventDefault();
      
      const users = DB.get('users');
      const username = document.getElementById('regUsername').value;
      
      if (users.find(u => u.username === username)) {
        showToast('Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„', 'error');
        return;
      }
      
      const newUser = {
        id: DB.generateId(),
        username: username,
        password: document.getElementById('regPassword').value,
        fullName: document.getElementById('regFullName').value,
        email: document.getElementById('regEmail').value,
        phone: document.getElementById('regPhone').value,
        phone2: document.getElementById('regPhone2').value,
        facebook: document.getElementById('regFacebook').value,
        whatsapp: document.getElementById('regWhatsapp').value,
        address: document.getElementById('regAddress').value,
        role: 'customer',
        createdAt: new Date().toISOString()
      };
      
      users.push(newUser);
      DB.set('users', users);
      
      closeModal('registerModal');
      showToast('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­! ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„', 'success');
      document.getElementById('registerForm').reset();
    });

    // ==================== ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ / Initialize App ====================
    function initializeApp() {
      updateHeader();
      buildMenu();
      loadDashboard();
    }

    function updateHeader() {
      const avatar = document.getElementById('headerAvatar');
      const name = document.getElementById('headerName');
      
      avatar.textContent = currentUser.fullName.charAt(0);
      name.textContent = currentUser.fullName;
    }

    function buildMenu() {
      const menuList = document.getElementById('menuList');
      
      const adminMenu = [
        { id: 'dashboard', icon: 'ğŸ“Š', label: 'Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…' },
        { id: 'orders', icon: 'ğŸ›’', label: 'Ø§Ù„Ø·Ù„Ø¨Ø§Øª' },
        { id: 'users', icon: 'ğŸ‘¥', label: 'Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†' },
        { id: 'guide', icon: 'ğŸ“–', label: 'Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…' },
        { id: 'profile', icon: 'ğŸ‘¤', label: 'Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ' },
        { id: 'logout', icon: 'ğŸšª', label: 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬' }
      ];
      
      const customerMenu = [
        { id: 'dashboard', icon: 'ğŸ“Š', label: 'Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©' },
        { id: 'myOrders', icon: 'ğŸ›’', label: 'Ø·Ù„Ø¨Ø§ØªÙŠ' },
        { id: 'guide', icon: 'ğŸ“–', label: 'Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…' },
        { id: 'profile', icon: 'ğŸ‘¤', label: 'Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ' },
        { id: 'logout', icon: 'ğŸšª', label: 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬' }
      ];
      
      const menu = currentUser.role === 'admin' ? adminMenu : customerMenu;
      
      menuList.innerHTML = menu.map(item => `
        <li>
          <button class="menu-item ${item.id === 'dashboard' ? 'active' : ''}" data-page="${item.id}">
            <span class="menu-icon">${item.icon}</span>
            <span class="menu-label">${item.label}</span>
          </button>
        </li>
      `).join('');
      
      // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
      document.querySelectorAll('.menu-item').forEach(item => {
        item.addEventListener('click', () => {
          const pageId = item.dataset.page;
          
          if (pageId === 'logout') {
            logout();
            return;
          }
          
          navigateTo(pageId);
        });
      });
    }

    // ==================== Ø§Ù„ØªÙ†Ù‚Ù„ / Navigation ====================
    function navigateTo(pageId) {
      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
      document.querySelectorAll('.menu-item').forEach(mi => mi.classList.remove('active'));
      const activeItem = document.querySelector(`[data-page="${pageId}"]`);
      if (activeItem) activeItem.classList.add('active');
      
      // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø§Øª
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      const page = document.getElementById(pageId);
      if (page) page.classList.add('active');
      
      // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„
      if (window.innerWidth < 768) {
        document.getElementById('sidebar').classList.remove('open');
        document.getElementById('overlay').classList.remove('show');
      }
      
      // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
      loadPageData(pageId);
    }

    // Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©
    document.getElementById('menuToggle').addEventListener('click', () => {
      document.getElementById('sidebar').classList.toggle('open');
      document.getElementById('overlay').classList.toggle('show');
    });

    document.getElementById('overlay').addEventListener('click', () => {
      document.getElementById('sidebar').classList.remove('open');
      document.getElementById('overlay').classList.remove('show');
    });

    // ==================== Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… / Dashboard ====================
    function loadDashboard() {
      if (currentUser.role === 'customer') {
        loadCustomerDashboard();
      } else {
        loadAdminDashboard();
      }
    }

    function loadCustomerDashboard() {
      document.getElementById('customerQuickActions').style.display = 'block';
      
      const orders = DB.get('orders').filter(o => o.userId === currentUser.id);
      const pending = orders.filter(o => o.status === 'pending').length;
      const completed = orders.filter(o => o.status === 'completed').length;
      
      document.getElementById('dashboardStats').innerHTML = `
        <div class="stat-card">
          <div class="stat-icon">ğŸ›’</div>
          <div class="stat-content">
            <div class="stat-value">${orders.length}</div>
            <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</div>
          </div>
        </div>
        <div class="stat-card highlight">
          <div class="stat-icon">â³</div>
          <div class="stat-content">
            <div class="stat-value">${pending}</div>
            <div class="stat-label">Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©</div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">âœ…</div>
          <div class="stat-content">
            <div class="stat-value">${completed}</div>
            <div class="stat-label">Ù…ÙƒØªÙ…Ù„Ø©</div>
          </div>
        </div>
      `;
      
      document.getElementById('dashboardTips').innerHTML = `
        <h3>ğŸ’¡ Ù†ØµØ§Ø¦Ø­</h3>
        <ul style="padding-right: 20px;">
          <li>ÙŠÙ…ÙƒÙ†Ùƒ ØªÙ‚Ø¯ÙŠÙ… Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø£Ø¹Ù„Ø§Ù‡</li>
          <li>ØªØ§Ø¨Ø¹ Ø­Ø§Ù„Ø© Ø·Ù„Ø¨Ø§ØªÙƒ Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© "Ø·Ù„Ø¨Ø§ØªÙŠ"</li>
          <li>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª Ù„Ù„Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª</li>
          <li>Ø±Ø§Ø¬Ø¹ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù„Ù…Ø¹Ø±ÙØ© ÙƒÙ„ Ø§Ù„Ø¥Ù…ÙƒØ§Ù†ÙŠØ§Øª</li>
        </ul>
      `;
    }

    function loadAdminDashboard() {
      document.getElementById('customerQuickActions').style.display = 'none';
      
      const orders = DB.get('orders');
      const users = DB.get('users').filter(u => u.role === 'customer');
      const pending = orders.filter(o => o.status === 'pending').length;
      const confirmed = orders.filter(o => o.status === 'confirmed').length;
      
      document.getElementById('dashboardStats').innerHTML = `
        <div class="stat-card highlight">
          <div class="stat-icon">ğŸ›’</div>
          <div class="stat-content">
            <div class="stat-value">${orders.length}</div>
            <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">â³</div>
          <div class="stat-content">
            <div class="stat-value">${pending}</div>
            <div class="stat-label">Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©</div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">âœ…</div>
          <div class="stat-content">
            <div class="stat-value">${confirmed}</div>
            <div class="stat-label">Ù…Ø¤ÙƒØ¯Ø©</div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">ğŸ‘¥</div>
          <div class="stat-content">
            <div class="stat-value">${users.length}</div>
            <div class="stat-label">Ø§Ù„Ø²Ø¨Ø§Ø¦Ù†</div>
          </div>
        </div>
      `;
      
      document.getElementById('dashboardTips').innerHTML = `
        <h3>ğŸ’¡ Ù†ØµØ§Ø¦Ø­ Ø³Ø±ÙŠØ¹Ø©</h3>
        <ul style="padding-right: 20px;">
          <li>ØªØ§Ø¨Ø¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© "Ø§Ù„Ø·Ù„Ø¨Ø§Øª"</li>
          <li>Ø±Ø§Ø¬Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø²Ø¨Ø§Ø¦Ù† Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© "Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†"</li>
          <li>ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø²Ø¨Ø§Ø¦Ù† Ø¹Ø¨Ø± Ø§Ù„Ù‡Ø§ØªÙ Ø£Ùˆ ÙˆØ§ØªØ³Ø§Ø¨</li>
          <li>Ø±Ø§Ø¬Ø¹ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù„Ù…Ø¹Ø±ÙØ© ÙƒÙ„ Ø§Ù„Ø¥Ù…ÙƒØ§Ù†ÙŠØ§Øª</li>
        </ul>
      `;
    }

    // ==================== Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… / User Guide ====================
    function loadGuide() {
      const container = document.getElementById('guide');
      
      if (currentUser.role === 'customer') {
        // Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø²Ø¨ÙˆÙ†
        container.innerHTML = `
          <div class="page-header">
            <h2>ğŸ“– Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… - Ù„Ù„Ø²Ø¨Ø§Ø¦Ù†</h2>
          </div>

          <div class="guide-section">
            <h3><span class="icon">ğŸ›’</span> ÙƒÙŠÙ ØªØ·Ù„Ø¨ Ù…Ù†ØªØ¬Ø§ØªØŸ</h3>
            <div class="guide-steps">
              <div class="guide-step">
                <div class="guide-step-number">1</div>
                <div class="guide-step-content">
                  <div class="guide-step-title">ğŸ  Ø§Ø°Ù‡Ø¨ Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
                  <div class="guide-step-description">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø£ÙŠÙ‚ÙˆÙ†Ø© "Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯" ğŸ›’ Ù…Ù† Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
                </div>
              </div>
              
              <div class="guide-step">
                <div class="guide-step-number">2</div>
                <div class="guide-step-content">
                  <div class="guide-step-title">ğŸ“¦ Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</div>
                  <div class="guide-step-description">Ø§ÙƒØªØ¨ Ù†ÙˆØ¹ Ø§Ù„Ù…Ù†ØªØ¬ (Ù‚Ù…Ø­ØŒ Ø´Ø¹ÙŠØ±ØŒ ØªÙ…ÙˆØ±...) ÙˆØ­Ø¯Ø¯ Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø¨Ø·Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©. ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ø£ÙƒØ«Ø± Ù…Ù† ØµÙ†Ù Ø¨Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ "+ Ø¥Ø¶Ø§ÙØ© ØµÙ†Ù"</div>
                </div>
              </div>
              
              <div class="guide-step">
                <div class="guide-step-number">3</div>
                <div class="guide-step-content">
                  <div class="guide-step-title">â° Ø­Ø¯Ø¯ ÙˆÙ‚Øª Ø§Ù„ØªÙˆØµÙŠÙ„</div>
                  <div class="guide-step-description">Ø§Ø®ØªØ± Ù…ØªÙ‰ ØªØ±ÙŠØ¯ Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø·Ù„Ø¨: Ø§Ù„ÙŠÙˆÙ… Ù…Ø³Ø§Ø¡Ù‹ØŒ ØºØ¯Ø§Ù‹ Ù…Ø³Ø§Ø¡Ù‹ØŒ Ø£Ùˆ Ø­Ø¯Ø¯ ØªØ§Ø±ÙŠØ® Ø¢Ø®Ø±</div>
                </div>
              </div>
              
              <div class="guide-step">
                <div class="guide-step-number">4</div>
                <div class="guide-step-content">
                  <div class="guide-step-title">ğŸ“ Ø§Ø®ØªØ± Ù…ÙƒØ§Ù† Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</div>
                  <div class="guide-step-description">ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… Ù…Ù† Ù…Ù‚Ø± Ø§Ù„Ø´Ø±ÙƒØ© Ø£Ùˆ Ø·Ù„Ø¨ Ø§Ù„ØªÙˆØµÙŠÙ„ Ù„Ø¹Ù†ÙˆØ§Ù†Ùƒ</div>
                </div>
              </div>
              
              <div class="guide-step">
                <div class="guide-step-number">5</div>
                <div class="guide-step-content">
                  <div class="guide-step-title">âœ… Ø£Ø±Ø³Ù„ Ø§Ù„Ø·Ù„Ø¨</div>
                  <div class="guide-step-description">Ø±Ø§Ø¬Ø¹ Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨ ÙˆØ§Ø¶ØºØ· "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨". Ø³Ù†ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹!</div>
                </div>
              </div>
            </div>
          </div>

          <div class="guide-section">
            <h3><span class="icon">ğŸ“‹</span> ÙƒÙŠÙ ØªØªØ§Ø¨Ø¹ Ø·Ù„Ø¨Ø§ØªÙƒØŸ</h3>
            <div class="guide-steps">
              <div class="guide-step">
                <div class="guide-step-number">1</div>
                <div class="guide-step-content">
                  <div class="guide-step-title">ğŸ›’ Ø§ÙØªØ­ "Ø·Ù„Ø¨Ø§ØªÙŠ"</div>
                  <div class="guide-step-description">Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©ØŒ Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "Ø·Ù„Ø¨Ø§ØªÙŠ" Ù„Ø±Ø¤ÙŠØ© ÙƒÙ„ Ø·Ù„Ø¨Ø§ØªÙƒ</div>
                </div>
              </div>
              
              <div class="guide-step">
                <div class="guide-step-number">2</div>
                <div class="guide-step-content">
                  <div class="guide-step-title">ğŸ‘€ Ø´Ø§Ù‡Ø¯ Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨</div>
                  <div class="guide-step-description">
                    ÙƒÙ„ Ø·Ù„Ø¨ Ù„Ù‡ Ø­Ø§Ù„Ø©:<br>
                    â³ Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© - Ø§Ù„Ø·Ù„Ø¨ ØªØ­Øª Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©<br>
                    âœ… Ù…Ø¤ÙƒØ¯ - ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨<br>
                    ğŸ‰ Ù…ÙƒØªÙ…Ù„ - ØªÙ… ØªØ³Ù„ÙŠÙ… Ø§Ù„Ø·Ù„Ø¨
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="guide-section">
            <h3><span class="icon">ğŸ‘¤</span> ÙƒÙŠÙ ØªØ¹Ø¯Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ©ØŸ</h3>
            <div class="guide-steps">
              <div class="guide-step">
                <div class="guide-step-number">1</div>
                <div class="guide-step-content">
                  <div class="guide-step-title">ğŸ‘¤ Ø§ÙØªØ­ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</div>
                  <div class="guide-step-description">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ø³Ù…Ùƒ ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰ Ø£Ùˆ Ø§Ø®ØªØ± "Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ" Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</div>
                </div>
              </div>
              
              <div class="guide-step">
                <div class="guide-step-number">2</div>
                <div class="guide-step-content">
                  <div class="guide-step-title">âœï¸ Ø§Ø¶ØºØ· "ØªØ¹Ø¯ÙŠÙ„"</div>
                  <div class="guide-step-description">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± "ØªØ¹Ø¯ÙŠÙ„" Ù„ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§ØªÙƒ</div>
                </div>
              </div>
              
              <div class="guide-step">
                <div class="guide-step-number">3</div>
                <div class="guide-step-content">
                  <div class="guide-step-title">ğŸ“± Ø£Ø¶Ù Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„</div>
                  <div class="guide-step-description">ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ø£Ø±Ù‚Ø§Ù… Ù‡ÙˆØ§ØªÙØŒ Ø­Ø³Ø§Ø¨Ø§Øª ÙÙŠØ³Ø¨ÙˆÙƒØŒ ÙˆØ§ØªØ³Ø§Ø¨ØŒ ÙˆØ¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù„ØªØ³Ù‡ÙŠÙ„ Ø§Ù„ØªÙˆØ§ØµÙ„</div>
                </div>
              </div>
              
              <div class="guide-step">
                <div class="guide-step-number">4</div>
                <div class="guide-step-content">
                  <div class="guide-step-title">ğŸ’¾ Ø§Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</div>
                  <div class="guide-step-description">Ø§Ø¶ØºØ· "Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª" Ù„ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ</div>
                </div>
              </div>
            </div>
          </div>

          <div class="guide-section">
            <h3><span class="icon">ğŸ“</span> ÙƒÙŠÙ ØªØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ØŸ</h3>
            <div class="guide-steps">
              <div class="guide-step">
                <div class="guide-step-number">1</div>
                <div class="guide-step-content">
                  <div class="guide-step-title">ğŸ“ Ø§Ø¶ØºØ· "ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§"</div>
                  <div class="guide-step-description">Ù…Ù† Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©ØŒ Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø£ÙŠÙ‚ÙˆÙ†Ø© "ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§"</div>
                </div>
              </div>
              
              <div class="guide-step">
                <div class="guide-step-number">2</div>
                <div class="guide-step-content">
                  <div class="guide-step-title">ğŸ“± Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªÙˆØ§ØµÙ„</div>
                  <div class="guide-step-description">
                    ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù†Ø§ Ø¹Ø¨Ø±:<br>
                    ğŸ“± Ø§Ù„Ù‡Ø§ØªÙ: 01099753053<br>
                    ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯: ee5139901@gmail.com<br>
                    ğŸ“ Ø²ÙŠØ§Ø±ØªÙ†Ø§: Ø§Ù„Ø¨Ø¬Ù„Ø§ØªØŒ Ù‚Ø±ÙŠØ© Ø§Ù„Ø¨Ø´Ù…ÙˆØ±<br>
                    â° Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„: 1 Ø¸Ù‡Ø±Ø§Ù‹ - 10 Ù…Ø³Ø§Ø¡Ù‹
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="card" style="background: var(--bg-gradient); color: white; text-align: center;">
            <h3 style="color: white; margin-bottom: 16px;">ğŸ’¡ Ù†ØµÙŠØ­Ø© Ù…Ù‡Ù…Ø©</h3>
            <p style="font-size: 1.1rem; line-height: 1.8;">
              ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ (Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù‡ÙˆØ§ØªÙØŒ ÙˆØ§ØªØ³Ø§Ø¨ØŒ ÙÙŠØ³Ø¨ÙˆÙƒ) ÙÙŠ Ù…Ù„ÙÙƒ Ø§Ù„Ø´Ø®ØµÙŠ Ù„Ù†ØªÙ…ÙƒÙ† Ù…Ù† Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ø¨Ø³Ù‡ÙˆÙ„Ø©!
            </p>
          </div>
        `;
      } else {
        // Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
        container.innerHTML = `
          <div class="page-header">
            <h2>ğŸ“– Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… - Ù„Ù„Ø¥Ø¯Ø§Ø±Ø©</h2>
          </div>

          <div class="guide-section">
            <h3><span class="icon">ğŸ›’</span> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª</h3>
            <div class="guide-steps">
              <div class="guide-step">
                <div class="guide-step-number">1</div>
                <div class="guide-step-content">
                  <div class="guide-step-title">ğŸ“‹ Ø§ÙØªØ­ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª</div>
                  <div class="guide-step-description">Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©ØŒ Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "Ø§Ù„Ø·Ù„Ø¨Ø§Øª" ğŸ›’ Ù„Ø±Ø¤ÙŠØ© ÙƒÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</div>
                </div>
              </div>
              
              <div class="guide-step">
                <div class="guide-step-number">2</div>
                <div class="guide-step-content">
                  <div class="guide-step-title">ğŸ‘€ Ø±Ø§Ø¬Ø¹ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨</div>
                  <div class="guide-step-description">ÙƒÙ„ Ø·Ù„Ø¨ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰: Ø§Ø³Ù… Ø§Ù„Ø²Ø¨ÙˆÙ†ØŒ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©ØŒ Ø§Ù„ÙƒÙ…ÙŠØ©ØŒ ÙˆÙ‚Øª Ø§Ù„ØªÙˆØµÙŠÙ„ØŒ ÙˆÙ…ÙƒØ§Ù† Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</div>
                </div>
              </div>
              
              <div class="guide-step">
                <div class="guide-step-number">3</div>
                <div class="guide-step-content">
                  <div class="guide-step-title">âœ… Ø­Ø¯Ù‘Ø« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨</div>
                  <div class="guide-step-description">ÙŠÙ…ÙƒÙ†Ùƒ ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ Ù…Ù† "Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©" Ø¥Ù„Ù‰ "Ù…Ø¤ÙƒØ¯" Ø£Ùˆ "Ù…ÙƒØªÙ…Ù„"</div>
                </div>
              </div>
              
              <div class="guide-step">
                <div class="guide-step-number">4</div>
                <div class="guide-step-content">
                  <div class="guide-step-title">ğŸ“ ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø²Ø¨ÙˆÙ†</div>
                  <div class="guide-step-description">Ø§Ø³ØªØ®Ø¯Ù… Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ù…ØªÙˆÙØ±Ø© (Ù‡Ø§ØªÙØŒ ÙˆØ§ØªØ³Ø§Ø¨ØŒ ÙÙŠØ³Ø¨ÙˆÙƒ) Ù„Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø²Ø¨ÙˆÙ†</div>
                </div>
              </div>
            </div>
          </div>

          <div class="guide-section">
            <h3><span class="icon">ğŸ‘¥</span> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h3>
            <div class="guide-steps">
              <div class="guide-step">
                <div class="guide-step-number">1</div>
                <div class="guide-step-content">
                  <div class="guide-step-title">ğŸ‘¥ Ø§ÙØªØ­ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</div>
                  <div class="guide-step-description">Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©ØŒ Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†"</div>
                </div>
              </div>
              
              <div class="guide-step">
                <div class="guide-step-number">2</div>
                <div class="guide-step-content">
                  <div class="guide-step-title">ğŸ‘€ Ø´Ø§Ù‡Ø¯ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø²Ø¨Ø§Ø¦Ù†</div>
                  <div class="guide-step-description">ÙƒÙ„ Ø¨Ø·Ø§Ù‚Ø© Ø²Ø¨ÙˆÙ† ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰: Ø§Ù„Ø§Ø³Ù…ØŒ Ø§Ù„Ù‡Ø§ØªÙØŒ Ø§Ù„Ø¨Ø±ÙŠØ¯ØŒ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†ØŒ ÙˆØ­Ø³Ø§Ø¨Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ</div>
                </div>
              </div>
              
              <div class="guide-step">
                <div class="guide-step-number">3</div>
                <div class="guide-step-content">
                  <div class="guide-step-title">ğŸ“Š Ø±Ø§Ø¬Ø¹ Ù†Ø´Ø§Ø· Ø§Ù„Ø²Ø¨ÙˆÙ†</div>
                  <div class="guide-step-description">Ø§Ø¶ØºØ· "Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„Ù" Ù„Ø±Ø¤ÙŠØ© ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø²Ø¨ÙˆÙ† ÙˆØ·Ù„Ø¨Ø§ØªÙ‡ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</div>
                </div>
              </div>
            </div>
          </div>

          <div class="card" style="background: var(--bg-gradient); color: white; text-align: center;">
            <h3 style="color: white; margin-bottom: 16px;">ğŸ’¡ Ù†ØµØ§Ø¦Ø­ Ù„Ù„Ø¥Ø¯Ø§Ø±Ø©</h3>
            <p style="font-size: 1.1rem; line-height: 1.8;">
              â€¢ Ø±Ø§Ø¬Ø¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹<br>
              â€¢ Ø­Ø¯Ù‘Ø« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø¨Ø§Ù†ØªØ¸Ø§Ù…<br>
              â€¢ ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø²Ø¨Ø§Ø¦Ù† Ø¹Ø¨Ø± Ø§Ù„Ù‡Ø§ØªÙ Ø£Ùˆ ÙˆØ§ØªØ³Ø§Ø¨<br>
              â€¢ Ø§Ø³ØªØ®Ø¯Ù… Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ù…ØªÙˆÙØ±Ø© ÙÙŠ Ù…Ù„ÙØ§Øª Ø§Ù„Ø²Ø¨Ø§Ø¦Ù†
            </p>
          </div>
        `;
      }
    }

    // ==================== Ø§Ù„Ø·Ù„Ø¨Ø§Øª (Ù„Ù„Ø¥Ø¯Ø§Ø±Ø©) / Orders ====================
    function loadOrders() {
      const orders = DB.get('orders').sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
      const container = document.getElementById('orders');
      
      container.innerHTML = `
        <div class="page-header">
          <h2>ğŸ›’ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</h2>
        </div>
      `;
      
      if (orders.length === 0) {
        container.innerHTML += '<div class="empty-state"><div class="icon">ğŸ›’</div><p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø¨Ø¹Ø¯</p></div>';
        return;
      }
      
      container.innerHTML += orders.map(order => {
        const user = DB.get('users').find(u => u.id === order.userId);
        
        // Ø¹Ø±Ø¶ Ø§Ù„Ø£ØµÙ†Ø§Ù
        let itemsDisplay = '';
        if (order.items && Array.isArray(order.items)) {
          itemsDisplay = order.items.map(item => `
            <div style="padding: 8px; background: var(--bg-secondary); border-radius: 8px; margin-bottom: 6px;">
              ğŸ“¦ ${item.product}: <strong>${item.quantity} Ø±Ø¨Ø·Ø©</strong>
            </div>
          `).join('');
        } else {
          itemsDisplay = `<p>ğŸ“¦ ${order.productType || 'Ù…Ù†ØªØ¬'}: ${order.quantity || 0} Ø±Ø¨Ø·Ø©</p>`;
        }
        
        return `
          <div class="card">
            <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 16px; flex-wrap: wrap; gap: 12px;">
              <div>
                <h3>Ø·Ù„Ø¨ #${order.id.substring(0, 8)}</h3>
                <p style="color: var(--text-secondary); font-size: 0.875rem;">ğŸ“… ${new Date(order.createdAt).toLocaleDateString('ar-SA')} - ${new Date(order.createdAt).toLocaleTimeString('ar-SA', { hour: '2-digit', minute: '2-digit' })}</p>
              </div>
              <span class="status-badge status-${order.status}">
                ${order.status === 'pending' ? 'â³ Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©' : order.status === 'confirmed' ? 'âœ… Ù…Ø¤ÙƒØ¯' : 'ğŸ‰ Ù…ÙƒØªÙ…Ù„'}
              </span>
            </div>
            
            <div style="margin-bottom: 16px; padding: 12px; background: var(--bg-secondary); border-radius: 8px;">
              <h4 style="margin-bottom: 8px; font-size: 0.95rem;">ğŸ‘¤ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø²Ø¨ÙˆÙ†:</h4>
              <p><strong>Ø§Ù„Ø§Ø³Ù…:</strong> ${order.customerName || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</p>
              ${user && user.phone ? `<p>ğŸ“± <strong>Ø§Ù„Ù‡Ø§ØªÙ:</strong> <a href="tel:${user.phone}" style="color: var(--primary-color);">${user.phone}</a></p>` : ''}
              ${user && user.whatsapp ? `<p>ğŸ’¬ <strong>ÙˆØ§ØªØ³Ø§Ø¨:</strong> <a href="https://wa.me/${user.whatsapp.replace(/\D/g, '')}" target="_blank" style="color: var(--success-color);">${user.whatsapp}</a></p>` : ''}
              ${user && user.facebook ? `<p>ğŸ“˜ <strong>ÙÙŠØ³Ø¨ÙˆÙƒ:</strong> <a href="${user.facebook}" target="_blank" style="color: var(--info-color);">Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</a></p>` : ''}
            </div>
            
            <div style="margin-bottom: 16px;">
              <h4 style="margin-bottom: 8px; font-size: 0.95rem;">Ø§Ù„Ø£ØµÙ†Ø§Ù Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:</h4>
              ${itemsDisplay}
            </div>
            
            <div style="display: grid; gap: 8px; padding-top: 12px; border-top: 1px solid var(--border-color); margin-bottom: 16px;">
              ${order.deliveryTime ? `<p>â° ${order.deliveryTime}</p>` : ''}
              ${order.pickupAddress ? `<p>ğŸ“ ${order.pickupAddress}</p>` : ''}
              ${order.notes ? `<p style="color: var(--text-secondary); font-size: 0.875rem;">ğŸ“ ${order.notes}</p>` : ''}
            </div>
            
            <div class="card-actions">
              ${order.status === 'pending' ? `
                <button class="btn btn-small btn-success" onclick="updateOrderStatus('${order.id}', 'confirmed')">âœ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</button>
              ` : ''}
              ${order.status === 'confirmed' ? `
                <button class="btn btn-small btn-primary" onclick="updateOrderStatus('${order.id}', 'completed')">ğŸ‰ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
              ` : ''}
              ${user ? `<button class="btn btn-small btn-secondary" onclick="viewUserProfile('${user.id}')">ğŸ‘¤ Ø¹Ø±Ø¶ Ù…Ù„Ù Ø§Ù„Ø²Ø¨ÙˆÙ†</button>` : ''}
            </div>
          </div>
        `;
      }).join('');
    }

    function updateOrderStatus(orderId, newStatus) {
      const orders = DB.get('orders');
      const orderIndex = orders.findIndex(o => o.id === orderId);
      
      if (orderIndex === -1) {
        showToast('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø·Ù„Ø¨', 'error');
        return;
      }
      
      const statusText = newStatus === 'confirmed' ? 'Ù…Ø¤ÙƒØ¯' : newStatus === 'completed' ? 'Ù…ÙƒØªÙ…Ù„' : 'Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©';
      
      const modalContent = document.getElementById('updateOrderStatusContent');
      modalContent.innerHTML = `
        <p style="margin-bottom: 24px;">Ù‡Ù„ ØªØ±ÙŠØ¯ ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ Ø¥Ù„Ù‰ "<strong>${statusText}</strong>"ØŸ</p>
        <div style="display: flex; gap: 12px;">
          <button class="btn btn-primary" onclick="confirmUpdateOrderStatus('${orderId}', '${newStatus}')">Ù†Ø¹Ù…ØŒ ØªØ­Ø¯ÙŠØ«</button>
          <button class="btn btn-secondary" onclick="closeModal('updateOrderStatusModal')">Ø¥Ù„ØºØ§Ø¡</button>
        </div>
      `;
      
      document.getElementById('updateOrderStatusModal').classList.add('show');
    }

    function confirmUpdateOrderStatus(orderId, newStatus) {
      const orders = DB.get('orders');
      const orderIndex = orders.findIndex(o => o.id === orderId);
      
      if (orderIndex !== -1) {
        orders[orderIndex].status = newStatus;
        DB.set('orders', orders);
        
        closeModal('updateOrderStatusModal');
        loadOrders();
        showToast('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­! âœ…', 'success');
      }
    }

    // ==================== Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ (Ù„Ù„Ø²Ø¨Ø§Ø¦Ù†) / New Order ====================
    let orderItems = [];

    function showNewOrderModal() {
      orderItems = [];
      document.getElementById('newOrderModal').classList.add('show');
      document.getElementById('orderItemsList').innerHTML = '';
      updateOrderSummary();
      addOrderItem();
    }

    function addOrderItem() {
      const itemId = 'item_' + Date.now();
      const itemDiv = document.createElement('div');
      itemDiv.id = itemId;
      itemDiv.className = 'card';
      itemDiv.style.cssText = 'margin-bottom: 12px; padding: 12px; background: var(--bg-primary); border: 1px solid var(--border-color);';
      
      itemDiv.innerHTML = `
        <div style="display: flex; gap: 12px; align-items: start;">
          <div style="flex: 2;">
            <label style="display: block; margin-bottom: 4px; font-size: 0.875rem; font-weight: 500;">Ù†ÙˆØ¹ Ø§Ù„Ù…Ù†ØªØ¬</label>
            <input type="text" class="item-product" placeholder="Ù‚Ù…Ø­ØŒ Ø´Ø¹ÙŠØ±ØŒ ØªÙ…ÙˆØ±..." required style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 0.875rem;">
          </div>
          <div style="flex: 1;">
            <label style="display: block; margin-bottom: 4px; font-size: 0.875rem; font-weight: 500;">Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø¨Ø·Ø§Øª</label>
            <input type="number" class="item-quantity" placeholder="0" min="1" required style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 0.875rem;">
          </div>
          <div style="padding-top: 24px;">
            <button type="button" class="btn btn-small btn-danger" onclick="removeOrderItem('${itemId}')" style="padding: 8px 12px;">ğŸ—‘ï¸</button>
          </div>
        </div>
      `;
      
      document.getElementById('orderItemsList').appendChild(itemDiv);
      
      itemDiv.querySelector('.item-product').addEventListener('input', updateOrderSummary);
      itemDiv.querySelector('.item-quantity').addEventListener('input', updateOrderSummary);
    }

    function removeOrderItem(itemId) {
      const itemDiv = document.getElementById(itemId);
      if (itemDiv) {
        itemDiv.remove();
        updateOrderSummary();
      }
      
      if (document.getElementById('orderItemsList').children.length === 0) {
        addOrderItem();
      }
    }

    function updateOrderSummary() {
      const items = document.querySelectorAll('#orderItemsList > div');
      let summary = '';
      let totalItems = 0;
      let totalQuantity = 0;
      
      items.forEach(item => {
        const product = item.querySelector('.item-product').value;
        const quantity = parseFloat(item.querySelector('.item-quantity').value) || 0;
        
        if (product && quantity > 0) {
          summary += `â€¢ ${product}: ${quantity} Ø±Ø¨Ø·Ø©\n`;
          totalItems++;
          totalQuantity += quantity;
        }
      });
      
      const summaryDiv = document.getElementById('orderSummary');
      if (totalItems === 0) {
        summaryDiv.innerHTML = '<span style="color: var(--text-secondary);">Ù„Ù… ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø£ØµÙ†Ø§Ù Ø¨Ø¹Ø¯</span>';
      } else {
        summaryDiv.innerHTML = `
          <div style="white-space: pre-line; margin-bottom: 12px;">${summary}</div>
          <div style="padding-top: 12px; border-top: 1px solid var(--border-color); font-weight: 600;">
            Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${totalItems} ØµÙ†Ù â€¢ ${totalQuantity} Ø±Ø¨Ø·Ø©
          </div>
        `;
      }
    }

    document.getElementById('orderDeliveryTime').addEventListener('change', function() {
      const customDateGroup = document.getElementById('customDateGroup');
      if (this.value === 'custom') {
        customDateGroup.style.display = 'block';
        document.getElementById('orderCustomDate').required = true;
      } else {
        customDateGroup.style.display = 'none';
        document.getElementById('orderCustomDate').required = false;
      }
    });

    document.getElementById('orderPickupLocation').addEventListener('change', function() {
      const deliveryAddressGroup = document.getElementById('deliveryAddressGroup');
      if (this.value === 'delivery_address') {
        deliveryAddressGroup.style.display = 'block';
        document.getElementById('orderDeliveryAddress').required = true;
      } else {
        deliveryAddressGroup.style.display = 'none';
        document.getElementById('orderDeliveryAddress').required = false;
      }
    });

    document.getElementById('newOrderForm').addEventListener('submit', (e) => {
      e.preventDefault();
      
      const items = [];
      const itemDivs = document.querySelectorAll('#orderItemsList > div');
      
      itemDivs.forEach(itemDiv => {
        const product = itemDiv.querySelector('.item-product').value.trim();
        const quantity = parseFloat(itemDiv.querySelector('.item-quantity').value);
        
        if (product && quantity > 0) {
          items.push({ product, quantity });
        }
      });
      
      if (items.length === 0) {
        showToast('ÙŠØ±Ø¬Ù‰ Ø¥Ø¶Ø§ÙØ© ØµÙ†Ù ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„', 'error');
        return;
      }
      
      const deliveryTimeOption = document.getElementById('orderDeliveryTime').value;
      let deliveryTime = '';
      let deliveryDate = '';
      
      if (deliveryTimeOption === 'today_evening') {
        const today = new Date();
        deliveryDate = today.toISOString().split('T')[0];
        deliveryTime = 'Ø§Ù„ÙŠÙˆÙ… Ù…Ø³Ø§Ø¡Ù‹';
      } else if (deliveryTimeOption === 'tomorrow_evening') {
        const tomorrow = new Date();
        tomorrow.setDate(tomorrow.getDate() + 1);
        deliveryDate = tomorrow.toISOString().split('T')[0];
        deliveryTime = 'ØºØ¯Ø§Ù‹ Ù…Ø³Ø§Ø¡Ù‹';
      } else if (deliveryTimeOption === 'custom') {
        deliveryDate = document.getElementById('orderCustomDate').value;
        deliveryTime = 'ØªØ§Ø±ÙŠØ® Ù…Ø®ØµØµ: ' + new Date(deliveryDate).toLocaleDateString('ar-SA');
      }
      
      const pickupLocation = document.getElementById('orderPickupLocation').value;
      let pickupAddress = '';
      
      if (pickupLocation === 'company_address') {
        pickupAddress = 'Ù…Ù† Ù…Ù‚Ø± Ø§Ù„Ø´Ø±ÙƒØ© (Ø§Ù„Ø¨Ø¬Ù„Ø§ØªØŒ Ù‚Ø±ÙŠØ© Ø§Ù„Ø¨Ø´Ù…ÙˆØ±ØŒ Ø´Ø±ÙƒØ© Ø§Ø³Ù„Ø§Ù… Ø­Ù…Ø¯ÙŠ Ø§Ù„Ø¨Ø¯ÙˆÙŠ)';
      } else if (pickupLocation === 'delivery_address') {
        pickupAddress = 'Ø§Ù„ØªÙˆØµÙŠÙ„ Ø¥Ù„Ù‰: ' + document.getElementById('orderDeliveryAddress').value;
      }
      
      const orders = DB.get('orders');
      const newOrder = {
        id: DB.generateId(),
        userId: currentUser.id,
        customerName: currentUser.fullName,
        customerPhone: currentUser.phone,
        items: items,
        deliveryTime: deliveryTime,
        deliveryDate: deliveryDate,
        pickupLocation: pickupLocation,
        pickupAddress: pickupAddress,
        notes: document.getElementById('orderNotes').value,
        status: 'pending',
        createdAt: new Date().toISOString()
      };
      
      orders.push(newOrder);
      DB.set('orders', orders);
      
      closeModal('newOrderModal');
      document.getElementById('newOrderForm').reset();
      orderItems = [];
      showToast('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­! Ø³Ù†ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹ ğŸ‰', 'success');
      loadDashboard();
    });

    // ==================== Ø·Ù„Ø¨Ø§ØªÙŠ / My Orders ====================
    function loadMyOrders() {
      const orders = DB.get('orders').filter(o => o.userId === currentUser.id).sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
      const container = document.getElementById('myOrders');
      
      container.innerHTML = `
        <div class="page-header">
          <h2>ğŸ›’ Ø·Ù„Ø¨Ø§ØªÙŠ</h2>
          <button class="btn btn-primary" onclick="showNewOrderModal()">+ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯</button>
        </div>
      `;
      
      if (orders.length === 0) {
        container.innerHTML += '<div class="empty-state"><div class="icon">ğŸ›’</div><p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø¨Ø¹Ø¯</p></div>';
        return;
      }
      
      container.innerHTML += orders.map(order => {
        let itemsDisplay = '';
        if (order.items && Array.isArray(order.items)) {
          itemsDisplay = order.items.map(item => `
            <div style="padding: 8px; background: var(--bg-secondary); border-radius: 8px; margin-bottom: 6px;">
              ğŸ“¦ ${item.product}: <strong>${item.quantity} Ø±Ø¨Ø·Ø©</strong>
            </div>
          `).join('');
        } else {
          itemsDisplay = `<p>ğŸ“¦ ${order.productType || 'Ù…Ù†ØªØ¬'}: ${order.quantity || 0} Ø±Ø¨Ø·Ø©</p>`;
        }
        
        return `
          <div class="card">
            <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 16px;">
              <div>
                <h3>Ø·Ù„Ø¨ #${order.id.substring(0, 8)}</h3>
                <p style="color: var(--text-secondary); font-size: 0.875rem;">ğŸ“… ${new Date(order.createdAt).toLocaleDateString('ar-SA')} - ${new Date(order.createdAt).toLocaleTimeString('ar-SA', { hour: '2-digit', minute: '2-digit' })}</p>
              </div>
              <span class="status-badge status-${order.status}">
                ${order.status === 'pending' ? 'â³ Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©' : order.status === 'confirmed' ? 'âœ… Ù…Ø¤ÙƒØ¯' : 'ğŸ‰ Ù…ÙƒØªÙ…Ù„'}
              </span>
            </div>
            
            <div style="margin-bottom: 16px;">
              <h4 style="margin-bottom: 8px; font-size: 0.95rem;">Ø§Ù„Ø£ØµÙ†Ø§Ù Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:</h4>
              ${itemsDisplay}
            </div>
            
            <div style="display: grid; gap: 8px; padding-top: 12px; border-top: 1px solid var(--border-color);">
              ${order.deliveryTime ? `<p>â° ${order.deliveryTime}</p>` : ''}
              ${order.pickupAddress ? `<p>ğŸ“ ${order.pickupAddress}</p>` : ''}
              ${order.notes ? `<p style="color: var(--text-secondary); font-size: 0.875rem;">ğŸ“ ${order.notes}</p>` : ''}
            </div>
          </div>
        `;
      }).join('');
    }

    // ==================== Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† (Ù„Ù„Ø¥Ø¯Ø§Ø±Ø©) / Users ====================
    function loadUsers() {
      const users = DB.get('users').filter(u => u.role === 'customer');
      const container = document.getElementById('users');
      
      container.innerHTML = `
        <div class="page-header">
          <h2>ğŸ‘¥ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h2>
        </div>
      `;
      
      if (users.length === 0) {
        container.innerHTML += '<div class="empty-state"><div class="icon">ğŸ‘¥</div><p>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</p></div>';
        return;
      }
      
      container.innerHTML += '<div class="users-grid">' + users.map(user => {
        const userOrders = DB.get('orders').filter(o => o.userId === user.id);
        
        return `
          <div class="user-card">
            <div class="user-card-header">
              <div class="user-card-avatar">${user.fullName.charAt(0)}</div>
              <div class="user-card-info">
                <div class="user-card-name">${user.fullName}</div>
                <span class="status-badge badge-customer">Ø²Ø¨ÙˆÙ†</span>
              </div>
            </div>
            <div class="user-card-details">
              ${user.phone ? `<div>ğŸ“± <a href="tel:${user.phone}" style="color: var(--primary-color);">${user.phone}</a></div>` : ''}
              ${user.phone2 ? `<div>ğŸ“± ${user.phone2}</div>` : ''}
              ${user.whatsapp ? `<div>ğŸ’¬ ÙˆØ§ØªØ³Ø§Ø¨: <a href="https://wa.me/${user.whatsapp.replace(/\D/g, '')}" target="_blank" style="color: var(--success-color);">${user.whatsapp}</a></div>` : ''}
              ${user.facebook ? `<div>ğŸ“˜ <a href="${user.facebook}" target="_blank" style="color: var(--info-color);">ÙÙŠØ³Ø¨ÙˆÙƒ</a></div>` : ''}
              ${user.email ? `<div>ğŸ“§ ${user.email}</div>` : ''}
              ${user.address ? `<div>ğŸ“ ${user.address}</div>` : ''}
              <div>ğŸ›’ ${userOrders.length} Ø·Ù„Ø¨</div>
              <div>ğŸ“… Ø§Ù†Ø¶Ù…: ${new Date(user.createdAt).toLocaleDateString('ar-SA')}</div>
            </div>
            <div class="card-actions">
              <button class="btn btn-small btn-primary" onclick="viewUserProfile('${user.id}')">Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„Ù</button>
            </div>
          </div>
        `;
      }).join('') + '</div>';
    }

    function viewUserProfile(userId) {
      const user = DB.get('users').find(u => u.id === userId);
      if (!user) return;
      
      const orders = DB.get('orders').filter(o => o.userId === userId);
      
      navigateTo('profile');
      
      const container = document.getElementById('profile');
      container.innerHTML = `
        <div class="profile-header">
          <div class="profile-avatar">${user.fullName.charAt(0)}</div>
          <div class="profile-info">
            <h2>${user.fullName}</h2>
            <div class="profile-meta">
              <span class="status-badge badge-customer">Ø²Ø¨ÙˆÙ†</span>
              <span>ğŸ“… Ø§Ù†Ø¶Ù…: ${new Date(user.createdAt).toLocaleDateString('ar-SA')}</span>
            </div>
          </div>
        </div>

        <div class="card">
          <h3>ğŸ“‹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„</h3>
          <div style="display: grid; gap: 12px;">
            ${user.phone ? `<p>ğŸ“± Ø§Ù„Ù‡Ø§ØªÙ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ: <a href="tel:${user.phone}" style="color: var(--primary-color);">${user.phone}</a></p>` : ''}
            ${user.phone2 ? `<p>ğŸ“± Ù‡Ø§ØªÙ Ø¥Ø¶Ø§ÙÙŠ: ${user.phone2}</p>` : ''}
            ${user.whatsapp ? `<p>ğŸ’¬ ÙˆØ§ØªØ³Ø§Ø¨: <a href="https://wa.me/${user.whatsapp.replace(/\D/g, '')}" target="_blank" style="color: var(--success-color);">${user.whatsapp}</a></p>` : ''}
            ${user.facebook ? `<p>ğŸ“˜ ÙÙŠØ³Ø¨ÙˆÙƒ: <a href="${user.facebook}" target="_blank" style="color: var(--info-color);">Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</a></p>` : ''}
            ${user.email ? `<p>ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯: ${user.email}</p>` : ''}
            ${user.address ? `<p>ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${user.address}</p>` : ''}
          </div>
        </div>

        <div class="card">
          <h3>ğŸ›’ Ø§Ù„Ø·Ù„Ø¨Ø§Øª (${orders.length})</h3>
          ${orders.length === 0 ? '<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª</p>' : orders.map(order => {
            let itemsSummary = '';
            if (order.items && Array.isArray(order.items)) {
              itemsSummary = order.items.map(item => `${item.product} (${item.quantity})`).join(', ');
            } else {
              itemsSummary = `${order.productType || 'Ù…Ù†ØªØ¬'} (${order.quantity || 0})`;
            }
            
            return `
              <div style="padding: 12px; background: var(--bg-secondary); border-radius: 8px; margin-bottom: 8px;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                  <strong>${itemsSummary}</strong>
                  <span class="status-badge status-${order.status}">
                    ${order.status === 'pending' ? 'Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©' : order.status === 'confirmed' ? 'Ù…Ø¤ÙƒØ¯' : 'Ù…ÙƒØªÙ…Ù„'}
                  </span>
                </div>
                <p style="font-size: 0.875rem; color: var(--text-secondary);">
                  ğŸ“… ${new Date(order.createdAt).toLocaleDateString('ar-SA')}
                </p>
              </div>
            `;
          }).join('')}
        </div>

        <button class="btn btn-secondary" onclick="loadUsers(); navigateTo('users');">â† Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</button>
      `;
    }

    // ==================== Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ / Profile ====================
    function loadProfile() {
      const container = document.getElementById('profile');
      const orders = DB.get('orders').filter(o => o.userId === currentUser.id);
      
      container.innerHTML = `
        <div class="profile-header">
          <div class="profile-avatar">${currentUser.fullName.charAt(0)}</div>
          <div class="profile-info">
            <h2>${currentUser.fullName}</h2>
            <div class="profile-meta">
              <span class="status-badge ${currentUser.role === 'admin' ? 'badge-admin' : 'badge-customer'}">
                ${currentUser.role === 'admin' ? 'Ù…Ø¯ÙŠØ±' : 'Ø²Ø¨ÙˆÙ†'}
              </span>
              <span>ğŸ“… Ø§Ù†Ø¶Ù…: ${new Date(currentUser.createdAt).toLocaleDateString('ar-SA')}</span>
            </div>
          </div>
        </div>

        <div class="card">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
            <h3>ğŸ“‹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨</h3>
            <button class="btn btn-small btn-primary" onclick="showEditProfileModal()">âœï¸ ØªØ¹Ø¯ÙŠÙ„</button>
          </div>
          <div style="display: grid; gap: 12px;">
            <p><strong>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:</strong> ${currentUser.username}</p>
            <p><strong>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„:</strong> ${currentUser.fullName}</p>
            ${currentUser.phone ? `<p><strong>ğŸ“± Ø§Ù„Ù‡Ø§ØªÙ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ:</strong> ${currentUser.phone}</p>` : '<p style="color: var(--text-secondary);">ğŸ“± Ø§Ù„Ù‡Ø§ØªÙ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ: ØºÙŠØ± Ù…Ø­Ø¯Ø¯</p>'}
            ${currentUser.phone2 ? `<p><strong>ğŸ“± Ù‡Ø§ØªÙ Ø¥Ø¶Ø§ÙÙŠ:</strong> ${currentUser.phone2}</p>` : ''}
            ${currentUser.whatsapp ? `<p><strong>ğŸ’¬ ÙˆØ§ØªØ³Ø§Ø¨:</strong> ${currentUser.whatsapp}</p>` : ''}
            ${currentUser.facebook ? `<p><strong>ğŸ“˜ ÙÙŠØ³Ø¨ÙˆÙƒ:</strong> ${currentUser.facebook}</p>` : ''}
            ${currentUser.email ? `<p><strong>ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯:</strong> ${currentUser.email}</p>` : '<p style="color: var(--text-secondary);">ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯: ØºÙŠØ± Ù…Ø­Ø¯Ø¯</p>'}
            ${currentUser.address ? `<p><strong>ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</strong> ${currentUser.address}</p>` : '<p style="color: var(--text-secondary);">ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ØºÙŠØ± Ù…Ø­Ø¯Ø¯</p>'}
          </div>
        </div>

        ${currentUser.role === 'customer' ? `
          <div class="card">
            <h3>ğŸ›’ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø·Ù„Ø¨Ø§Øª</h3>
            <div style="display: grid; gap: 12px;">
              <p>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª: <strong>${orders.length}</strong></p>
              <p>Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©: <strong>${orders.filter(o => o.status === 'pending').length}</strong></p>
              <p>Ù…ÙƒØªÙ…Ù„Ø©: <strong>${orders.filter(o => o.status === 'completed').length}</strong></p>
            </div>
          </div>
        ` : ''}
      `;
    }

    function showEditProfileModal() {
      document.getElementById('editFullName').value = currentUser.fullName || '';
      document.getElementById('editEmail').value = currentUser.email || '';
      document.getElementById('editPhone').value = currentUser.phone || '';
      document.getElementById('editPhone2').value = currentUser.phone2 || '';
      document.getElementById('editFacebook').value = currentUser.facebook || '';
      document.getElementById('editWhatsapp').value = currentUser.whatsapp || '';
      document.getElementById('editAddress').value = currentUser.address || '';
      document.getElementById('editPassword').value = '';
      
      document.getElementById('editProfileModal').classList.add('show');
    }

    document.getElementById('editProfileForm').addEventListener('submit', (e) => {
      e.preventDefault();
      
      const users = DB.get('users');
      const userIndex = users.findIndex(u => u.id === currentUser.id);
      
      if (userIndex === -1) {
        showToast('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', 'error');
        return;
      }
      
      users[userIndex].fullName = document.getElementById('editFullName').value;
      users[userIndex].email = document.getElementById('editEmail').value;
      users[userIndex].phone = document.getElementById('editPhone').value;
      users[userIndex].phone2 = document.getElementById('editPhone2').value;
      users[userIndex].facebook = document.getElementById('editFacebook').value;
      users[userIndex].whatsapp = document.getElementById('editWhatsapp').value;
      users[userIndex].address = document.getElementById('editAddress').value;
      
      const newPassword = document.getElementById('editPassword').value;
      if (newPassword.trim() !== '') {
        users[userIndex].password = newPassword;
      }
      
      DB.set('users', users);
      
      currentUser = users[userIndex];
      DB.setOne('currentUser', currentUser);
      
      updateHeader();
      loadProfile();
      
      closeModal('editProfileModal');
      showToast('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ Ø¨Ù†Ø¬Ø§Ø­! âœ…', 'success');
    });

    // ==================== ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø³Ø¨ Ø§Ù„ØµÙØ­Ø© / Load Page Data ====================
    function loadPageData(pageId) {
      switch(pageId) {
        case 'dashboard':
          loadDashboard();
          break;
        case 'guide':
          loadGuide();
          break;
        case 'orders':
          loadOrders();
          break;
        case 'myOrders':
          loadMyOrders();
          break;
        case 'users':
          loadUsers();
          break;
        case 'profile':
          loadProfile();
          break;
      }
    }

    // ==================== ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ / Logout ====================
    function logout() {
      const confirmLogout = document.createElement('div');
      confirmLogout.className = 'modal show';
      confirmLogout.innerHTML = `
        <div class="modal-content" style="max-width: 400px;">
          <h3 style="margin-bottom: 16px;">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</h3>
          <p style="margin-bottom: 24px;">Ù‡Ù„ ØªØ±ÙŠØ¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ØŸ</p>
          <div style="display: flex; gap: 12px;">
            <button class="btn btn-danger" onclick="confirmLogoutAction()">Ù†Ø¹Ù…ØŒ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
            <button class="btn btn-secondary" onclick="this.closest('.modal').remove()">Ø¥Ù„ØºØ§Ø¡</button>
          </div>
        </div>
      `;
      document.body.appendChild(confirmLogout);
    }

    function confirmLogoutAction() {
      currentUser = null;
      localStorage.removeItem('currentUser');
      document.getElementById('app').classList.remove('active');
      document.getElementById('loginScreen').style.display = 'flex';
      document.querySelectorAll('.modal').forEach(m => m.remove());
      showToast('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­', 'info');
    }

    // ==================== Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ / Modal ====================
    function closeModal(modalId) {
      document.getElementById(modalId).classList.remove('show');
    }

    function showContactModal() {
      document.getElementById('contactModal').classList.add('show');
    }

    // ==================== Ø§Ù„ØªÙˆØ³Øª / Toast ====================
    function showToast(message, type = 'info') {
      const container = document.getElementById('toastContainer');
      const toast = document.createElement('div');
      toast.className = `toast ${type}`;
      toast.innerHTML = `
        <span>${type === 'success' ? 'âœ…' : type === 'error' ? 'âŒ' : 'â„¹ï¸'}</span>
        <span>${message}</span>
      `;
      
      container.appendChild(toast);
      
      setTimeout(() => {
        toast.style.opacity = '0';
        setTimeout(() => toast.remove(), 300);
      }, 3000);
    }

    // ==================== Ø§Ù„ØªÙ‡ÙŠØ¦Ø© / Initialization ====================
    document.addEventListener('DOMContentLoaded', () => {
      initializeDefaultUsers();
      
      const savedUser = DB.getOne('currentUser');
      if (savedUser) {
        currentUser = savedUser;
        document.getElementById('loginScreen').style.display = 'none';
        document.getElementById('app').classList.add('active');
        initializeApp();
      }
    });
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99d024a732da7940',t:'MTc2Mjg4ODc4Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
